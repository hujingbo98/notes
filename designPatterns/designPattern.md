<!--
 * @Author : Hu Jingbo
 * @Date   : 2021-11-13
-->

# 设计模式

设计模式 (Design Pattern) 中的每一个模式描述了一个在我们周围不断重复发生的问题，以及该问题的解决方案的核心。

一个模式有四个基本要素：

1. 模式名称 (pattern name)

2. 问题 (problem)

3. 解决方案 (solution)

4. 效果 (consequences)

## 设计模式七大原则

* 依赖倒置原则 (DIP, Dependency Inversion Principle)

高层模块 (稳定) 不应该依赖于低层模块 (变化)，二者都应该依赖于抽象(稳定)。抽象 (稳定) 不应该依赖于实现细节 (变化)，实现细节应该依赖于抽象 (稳定)。

* 开放封闭原则 (OCP, Open Closed Principle)

对扩展开放，对修改关闭，类模块应该是可扩展的，但是不可修改的。

* 单一职责原则 (SRP, Single Responsibility Principle)

一个类应该仅有一个引起它变化的原因，变化的方向隐含着类的责任。

* 里氏替换原则 (LSP, Liskov Substitution Principle)

子类必须能够替换它们的基类 (IS-A)。继承表达类型的抽象。

* 接口隔离原则 (ISP, Interface Segregation Principle)

不应该强迫客户程序依赖它们不用的方法，接口应该小而完备。

* 合成复用原则 (CRP, Composite Reuse Principle)

优先使用对象组合而不是类继承。类继承通常为白箱复用，对象组合通常为黑箱复用。继承在某种程度上破坏了封装性，子类父类耦合度高。而对象组合则只要求被组合的对象具有良好定义的接口，耦合度低。

* 迪米特法则 (LKP, Least Knowledge Principle)

迪米特法则 (Law of Demeter) 又叫作最少知识原则 (The Least Knowledge Principle)。每个模块对其它模块都要尽可能少地了解和依赖，降低代码耦合度。

## 设计模式分类

**设计模式依据其目的可分为以下三类：**

* 创建型 (Creational) 模式

创建型模式是将对象的部分创建工作延迟到子类或者其它对象，从而应对需求变化为对象创建时具体类型实现引来的冲击。

创建型模式包含工厂方法模式、抽象工厂模式、单例模式、建造者模式、原型模式。

* 结构型 (Structural) 模式

结构性模式是通过类继承或者对象组合获得更灵活的结构，从而应对需求变化为对象的结构带来的冲击。

结构型模式包含适配器模式、装饰器模式、代理模式、外观模式、桥接模式、组合模式、享元模式。

* 行为型 (Behavioral) 模式

行为型模式是通过类继承或者对象组合来划分类与对象间的职责，从而应对需求变化为多个交互的对象带来的冲击。

行为型模式包含策略模式、模板方法模式、观察者模式、迭代子模式、责任链模式、命令模式、备忘录模式、状态模式、访问者模式、中介者模式、解释器模式。

**依据其范围的可分为：**

* 类模式处理类与子类的静态关系。
* 对象模式处理对象间的动态关系。